enum Sex
	Male : 1
	Female : 2

class ResponseStatus
	Message : string
	ErrorCode : string
	StackTrace : string

class Response
	ResponseStatus : ResponseStatus

class UserResponse
	@extends Response
	User : User

class Person
	Id : uuid
	Name : string
	Sexes : Sex?[]

class User
	@extends Person
	CashBalance : double
	Birthdate : datetime
	Password : string
	Age : int
	TimeSinceLastLogin : timespan
	LoginTimes : timespan[]
	Friends : User[]
	FollowerUserIds : uuid[]


gateway TestService
	@hostname dryice.kingstreetapps.com

	AddOne(value:int)
		@format json
		@path /api/Test/AddOne?x={value}
		@method get
		@returns int

gateway UserService
	@hostname dryice.kingstreetapps.com

	StoreUser(user:User)
		@format json
		@path /api/UserService/StoreUser
		@method post
		@content user
		@returns void

	GetPerson(id:uuid)
		@format json
		@path /api/UserService/Person/{id}
		@method get
		@returns Person

	GetUser(id:uuid fromDate:datetime)
		@format json
		@path /api/UserService/User/{id}/{fromDate}
		@method get
		@returns Response

	GetUserSex(id:uuid)
		@format json
		@path /api/UserService/GetUserSex?UserId={id}
		@method get
		@returns Sex

	GetUserNullableSex(id:uuid)
		@format json	
		@path /api/UserService/GetUserSex?UserId={id}
		@method get
		@returns Sex?

	SetUserSex(id:uuid value:Sex)
		@format json
		@path /api/UserService/SetUserSex?UserId={id}&Sex=value
		@method get
		@returns User

	SetUserNullableSex(id:uuid value:Sex?)
		@format json
		@path /api/UserService/SetUserSex?UserId={id}&Sex=value
		@method get
		@returns User

	GetUserAge(id:uuid)
		@format json
		@path /api/UserService/GetUserSex?UserId={id}
		@method get
		@returns int?

	GetUserNoResponse(id:uuid fromDate:datetime)
		@format json
		@path /api/UserService/User/{id}/{fromDate}
		@method get
		@returns User

	SetPassword(id:uuid password:String)
		@secure true
		@format json
		@path /api/UserService/SetPassword?id={id}&password={password}
		@method get
		@returns string
